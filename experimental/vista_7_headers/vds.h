#ifndef _INC_VDS
#define _INC_VDS
#include <_mingw.h>
#include <guiddef.h>
#if (_WIN32_WINNT >= 0x0600)

#define GPT_ATTRIBUTE_PLATFORM_REQUIRED 0x0000000000000001
#define GPT_BASIC_DATA_ATTRIBUTE_NO_DRIVE_LETTER 0x8000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_HIDDEN 0x4000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_SHADOW_COPY 0x2000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_READ_ONLY 0x1000000000000000

#define GPT_PARTITION_NAME_LENGTH 36

#define PARTITION_ENTRY_UNUSED 0x00
#define PARTITION_FAT_12 0x01
#define PARTITION_XENIX_1 0x02
#define PARTITION_XENIX_2 0x03
#define PARTITION_FAT_16 0x04
#define PARTITION_EXTENDED 0x05
#define PARTITION_HUGE 0x06
#define PARTITION_IFS 0x07
#define PARTITION_OS2BOOTMGR 0x0A
#define PARTITION_FAT32 0x0B
#define PARTITION_FAT32_XINT13 0x0C
#define PARTITION_XINT13 0x0E
#define PARTITION_XINT13_EXTENDED 0x0F
#define PARTITION_PREP 0x41
#define PARTITION_LDM 0x42
#define PARTITION_UNIX 0x63
#define PARTITION_NTFT 0x80

DEFINE_GUID(PARTITION_ENTRY_UNUSED_GUID,0x00000000,0x0000,0x0000,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00);
DEFINE_GUID(PARTITION_SYSTEM_GUID,0xc12a7328,0xf81f,0x11d2,0xba,0x4b,0x00,0xa0,0xc9,0x3e,0xc9,0x3b);
DEFINE_GUID(PARTITION_MSFT_RESERVED_GUID,0xe3c9e316,0x0b5c,0x4db8,0x81,0x7d,0xf9,0x2d,0xf0,0x02,0x15,0xae);
DEFINE_GUID(PARTITION_BASIC_DATA_GUID,0xebd0a0a2,0xb9e5,0x4433,0x87,0xc0,0x68,0xb6,0xb7,0x26,0x99,0xc7);
DEFINE_GUID(PARTITION_LDM_METADATA_GUID,0x5808c8aa,0x7e8f,0x42e0,0x85,0xd2,0xe1,0xe9,0x04,0x34,0xcf,0xb3);
DEFINE_GUID(PARTITION_LDM_DATA_GUID,0xaf9b60a0,0x1431,0x4f62,0xbc,0x68,0x33,0x11,0x71,0x4a,0x69,0xad);
DEFINE_GUID(PARTITION_MSFT_RECOVERY_GUID,0xde94bba4,0x06d1,0x4d40,0xa1,0x6a,0xbf,0xd5,0x01,0x79,0xd6,0xac);

#define GPT_ATTRIBUTE_PLATFORM_REQUIRED 0x0000000000000001
#define GPT_BASIC_DATA_ATTRIBUTE_NO_DRIVE_LETTER 0x8000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_HIDDEN 0x4000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_SHADOW_COPY 0x2000000000000000
#define GPT_BASIC_DATA_ATTRIBUTE_READ_ONLY 0x1000000000000000

typedef enum _VDS_PARTITION_STYLE {
  VDS_PST_UNKNOWN   = 0,
  VDS_PST_MBR       = 1,
  VDS_PST_GPT       = 2 
} VDS_PARTITION_STYLE;

typedef struct _CHANGE_ATTRIBUTES_PARAMETERS {
  VDS_PARTITION_STYLE style;
  union DUMMYUNIONNAME {
    struct DUMMYSTRUCTNAME1 {
      BOOLEAN bootIndicator;
    } MbrPartInfo;
    struct DUMMYSTRUCTNAME2 {
      ULONGLONG attributes;
    } GptPartInfo;
  } ;
} CHANGE_ATTRIBUTES_PARAMETERS;

typedef struct {
  VDS_PARTITION_STYLE style;
  union DUMMYUNIONNAME1 {
    struct DUMMYSTRUTNAME1 {
      BYTE    partitionType;
      BOOLEAN bootIndicator;
    } MbrPartInfo;
    struct DUMMYSTRUCTNAME2 {
      GUID      partitionType;
      GUID      partitionId;
      ULONGLONG attributes;
      WCHAR     name[GPT_PARTITION_NAME_LENGTH];
    } GptPartInfo;
  } ;
} CREATE_PARTITION_PARAMETERS;

#endif /*(_WIN32_WINNT >= 0x0600)*/
#endif /*_INC_VDS*/
